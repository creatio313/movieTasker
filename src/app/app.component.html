<!--The content below is only a placeholder and can be replaced.-->

<mat-sidenav-container class="sidenav">
  <!--サイドナビゲーション-->
  <mat-sidenav #sidenav mode="side" opened>
    <app-side-nav [user]="user" (changeProj)="setProject($event)" (selectProc)="selectProcess($event)"></app-side-nav>
  </mat-sidenav>
  <!--メインナビゲーション-->
  <mat-sidenav-content>
    <button (click)="sidenav.toggle()" mat-fab aria-label="menu toggle button">
      <mat-icon>list</mat-icon>
    </button>
    <div style="text-align:center">
    <h1>
      {{ title }}
    </h1>
    <div *ngIf="currentProject != '' && selected != ''">
      <h2>{{selected}}</h2>
      <app-task-view [scenes]="scenes" [selected]="selected" [project]="currentProject"></app-task-view>
    </div>
    </div>
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>プロジェクト管理</mat-card-title>
        <mat-card-subtitle>プロジェクトの追加・削除を行います。</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <h3>プロジェクト削除</h3>
        <mat-nav-list>
          <mat-list-item *ngFor="let project of user?.projects |keyvalue" (click)="deleteProject(project.key)">
            <mat-icon color="primary" aria-label="delete">backspace</mat-icon>
            {{project.value}}
          </mat-list-item>
        </mat-nav-list>
        <h3>プロジェクト追加</h3>
        <mat-form-field class="input">
          <input matInput placeholder="プロジェクト名称" value="" (keyup.enter)="addProject(newProjectName.value); newProjectName.value = ''" #newProjectName>
        </mat-form-field>
      </mat-card-content>
    </mat-card>
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>シーン管理</mat-card-title>
        <mat-card-subtitle>シーンの変更・追加・削除を行います。</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <h3>シーン名変更・削除</h3>
        <mat-nav-list>
          <mat-list-item *ngFor="let scene of scenes">
            <mat-icon color="primary" aria-label="delete" (click)="delete(scene.name)">backspace</mat-icon>
            <input matInput value="{{scene.name}}" (keyup.enter)="changeSceneName(scene.name, $event.target.value);">
          </mat-list-item>
        </mat-nav-list>
        <h3>シーン追加</h3>
        <mat-form-field class="input">
          <input matInput placeholder="シーン名称" value="" (keyup.enter)="add(newSceneName.value); newSceneName.value = ''" #newSceneName>
        </mat-form-field>
      </mat-card-content>
    </mat-card>
  </mat-sidenav-content>
</mat-sidenav-container>
<router-outlet></router-outlet>
